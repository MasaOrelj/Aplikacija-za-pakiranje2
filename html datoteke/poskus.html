<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.2/css/bulma.min.css">
    <title>Aplikacija za pakiranje</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
</head>
<body>
    <nav class="navbar is-primary">
        <div class="container is-widescreen">
                <div class = "navbar-brand">
                    <span class="navbar-item">
                        <p class="has-text-weight-bold">Aplikacija za pakiranje&nbsp;</p>
                        <span class="icon-text">
                            <i class="fas fa-suitcase-rolling" style="color:white"></i>
                        </span>
                    </span>
                </div>
                <div class="navbar-menu">
                    <div class = "navbar-end">
                        <div class="navbar-brand">
                            <a class="navbar-item"
                            href = "https://github.com/MasaOrelj/Aplikacija-za-pakiranje2.git">
                                <span class="icon">
                                    <i class="fab fa-github"></i>
                                </span>
                                <span><strong>GitHub</strong></span>
                            </a>
                        </div>
                    </div>    
                </div>
            
        </div>
    </nav>
    <section class="section">
        <nav class="level">
            <!-- Left side -->
            <div class="level-left">
                <form method="POST" action="/zamenjaj-trenutno-potovanje/">
                    <div class="level-item">
                        <p class="subtitle is-5 mb-4 has-text-grey">
                            Moja potovanja:
                        </p>
                    </div>
                    <div class="level-item">
                        <div class="field has-addons">
                            % for indeks, potovanje in enumerate(potovanja):
                            % if potovanje == trenutno_potovanje:
                            <button class="button is-primary is-selected" name="indeks" value="{{indeks}}">
                                <strong>{{potovanje.ime}}&nbsp</strong>
                                <span class="tag is-rounded"><strong>{{potovanje.odstotek_spakiranja()}}%</strong></span>
                            </button>
                            % else:
                            <button class="button is-light is-primary" name="indeks" value="{{indeks}}">
                                {{potovanje.ime}}&nbsp
                                <span class="tag is-rounded is-link is-light">{{potovanje.odstotek_spakiranja()}}%</span>
                            </button>
                            % end
                            % end
                        </div>
                    </div>
                </form>
            </div>
            <div class="level-right">
                <div class="level-item">
                    <p class="control">
                        <a class="button is-primary is-focused" href="/dodaj-novo-potovanje/">
                            Dodaj potovanje&nbsp;
                            <span class="icon-text">
                                <i class="fas fa-plus" style="color: white"></i>
                            </span>
                        </a>
                    </p>
                </div>
            </div>
        </nav>

        % if trenutno_potovanje:

        <nav class="level">
            <div class="level-left">
                <form method="POST" action="/dodaj-predmet/">
                    <div class="level-item">
                        <div class="field has-addons">
                            <p class="control has-icons-right">
                                <input class="input is-small is-focused" type="text" name="ime" placeholder="Ime">
                                <span class="icon is-right">
                                    <i class="fas fa-check"></i>
                                </span>
                            </p>
                            <p class="control">
                                <button class="button is-small is-primary">
                                    Dodaj predmet&nbsp;
                                    <span class="icon-text">
                                        <i class="fas fa-plus" style="color: white"></i>
                                    </span>
                                </button>

                            </p>
                        </div>
                    </div>                  
                </form>
            </div>
        </nav>

    
        <div class="content">
            
                <ul style="color:grey">
                    % for indeks, predmet in enumerate(predmeti):
                    <li>
                        <div class="buttons">
                        <button class="button is-inverted is-link is-selected" name="indeks" value="{{indeks}}">
                                <strong>{{predmet.ime}}</strong>
                        </button>
                        <form method="POST" action="/zamenjaj-stanje-predmeta/">
                            <input type="hidden" name="indeks" value="{{indeks}}">
                            <button class="button is-white">
                                <span class="icon is-small">
                                    % if predmet.spakirano:
                                    <i class="far fa-check-circle" style="color:green"></i>
                                    % elif predmet.zadnjaminuta:
                                    <i class="fas fa-exclamation-circle" style="color:red"></i>
                                    % else:
                                    <i class="far fa-circle" style="color:grey"></i>
                                    % end
                                </span>
                            </button>
                        </form>
                        </div>
                            <ul type="circle" style="color:darkslategrey">
                            % for indeks, podpredmet in enumerate(predmet.seznam_podpredmetov):
                            <li>
                                {{ podpredmet.ime }}
                                
                            </li>
                            % end
                            <li>
                                <a class="button is-small is-focused" href="/dodaj-podpredmet/">
                                    <span class="icon-text">
                                        <i class="fas fa-plus" style="color:grey"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
    
                    </li>                        
                   
                    % end
                </ul>
            </div>
            
            % else:
            <p>Nimate še trenutnega potovanja. Lahko izbereta enega od že obstoječih ali pa dodate novega <a href="/dodaj-potovanje/">TUKAJ</a>!</p>
        
    </section>
</body>

</html>